USE [master]
GO
/****** Object:  Database [db_ntms_no]    Script Date: 05/08/2014 17:29:33 ******/
CREATE DATABASE [db_ntms_no] ON  PRIMARY 
( NAME = N'db_nim_no', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL.1\MSSQL\DATA\db_nim_no.mdf' , SIZE = 6144KB , MAXSIZE = UNLIMITED, FILEGROWTH = 1024KB )
 LOG ON 
( NAME = N'db_nim_no_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL.1\MSSQL\DATA\db_nim_no_log.ldf' , SIZE = 2048KB , MAXSIZE = 2048GB , FILEGROWTH = 10%)
GO
ALTER DATABASE [db_ntms_no] SET COMPATIBILITY_LEVEL = 100
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [db_ntms_no].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [db_ntms_no] SET ANSI_NULL_DEFAULT OFF
GO
ALTER DATABASE [db_ntms_no] SET ANSI_NULLS OFF
GO
ALTER DATABASE [db_ntms_no] SET ANSI_PADDING OFF
GO
ALTER DATABASE [db_ntms_no] SET ANSI_WARNINGS OFF
GO
ALTER DATABASE [db_ntms_no] SET ARITHABORT OFF
GO
ALTER DATABASE [db_ntms_no] SET AUTO_CLOSE OFF
GO
ALTER DATABASE [db_ntms_no] SET AUTO_CREATE_STATISTICS ON
GO
ALTER DATABASE [db_ntms_no] SET AUTO_SHRINK OFF
GO
ALTER DATABASE [db_ntms_no] SET AUTO_UPDATE_STATISTICS ON
GO
ALTER DATABASE [db_ntms_no] SET CURSOR_CLOSE_ON_COMMIT OFF
GO
ALTER DATABASE [db_ntms_no] SET CURSOR_DEFAULT  GLOBAL
GO
ALTER DATABASE [db_ntms_no] SET CONCAT_NULL_YIELDS_NULL OFF
GO
ALTER DATABASE [db_ntms_no] SET NUMERIC_ROUNDABORT OFF
GO
ALTER DATABASE [db_ntms_no] SET QUOTED_IDENTIFIER OFF
GO
ALTER DATABASE [db_ntms_no] SET RECURSIVE_TRIGGERS OFF
GO
ALTER DATABASE [db_ntms_no] SET  DISABLE_BROKER
GO
ALTER DATABASE [db_ntms_no] SET AUTO_UPDATE_STATISTICS_ASYNC OFF
GO
ALTER DATABASE [db_ntms_no] SET DATE_CORRELATION_OPTIMIZATION OFF
GO
ALTER DATABASE [db_ntms_no] SET TRUSTWORTHY OFF
GO
ALTER DATABASE [db_ntms_no] SET ALLOW_SNAPSHOT_ISOLATION OFF
GO
ALTER DATABASE [db_ntms_no] SET PARAMETERIZATION SIMPLE
GO
ALTER DATABASE [db_ntms_no] SET READ_COMMITTED_SNAPSHOT OFF
GO
ALTER DATABASE [db_ntms_no] SET HONOR_BROKER_PRIORITY OFF
GO
ALTER DATABASE [db_ntms_no] SET  READ_WRITE
GO
ALTER DATABASE [db_ntms_no] SET RECOVERY FULL
GO
ALTER DATABASE [db_ntms_no] SET  MULTI_USER
GO
ALTER DATABASE [db_ntms_no] SET PAGE_VERIFY CHECKSUM
GO
ALTER DATABASE [db_ntms_no] SET DB_CHAINING OFF
GO
EXEC sys.sp_db_vardecimal_storage_format N'db_ntms_no', N'ON'
GO
USE [db_ntms_no]
GO
/****** Object:  UserDefinedTableType [dbo].[TableType]    Script Date: 05/08/2014 17:29:34 ******/
CREATE TYPE [dbo].[TableType] AS TABLE(
	[cno] [int] NULL,
	[fnm] [nvarchar](100) NULL,
	[lnm] [nvarchar](100) NULL,
	[adress] [nvarchar](max) NULL,
	[zip] [int] NULL,
	[city] [nvarchar](100) NULL,
	[phone] [nvarchar](50) NULL,
	[mno] [int] NULL,
	[email] [nvarchar](100) NULL,
	[dob] [nvarchar](500) NULL,
	[age] [int] NULL,
	[gender] [nvarchar](500) NULL,
	[lastTerminationsDate] [nvarchar](500) NULL,
	[TerminationCauseNo] [int] NULL,
	[TerminationCause] [nvarchar](max) NULL,
	[LastLaidOffProd] [nvarchar](1000) NULL,
	[lastTermiChannel] [nvarchar](1000) NULL,
	[bonus] [int] NULL,
	[PromoCode] [nvarchar](1000) NULL,
	[Source] [nvarchar](1000) NULL,
	[SourceNo] [int] NULL,
	[ItemNo] [int] NULL
)
GO
/****** Object:  Table [dbo].[sokFields]    Script Date: 05/08/2014 17:29:36 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[sokFields](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[fnm] [nvarchar](1000) NULL,
	[active] [bit] NOT NULL,
	[nm] [nvarchar](1000) NULL,
	[sort] [int] NULL,
 CONSTRAINT [PK_sokFields] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[sokCriteria]    Script Date: 05/08/2014 17:29:36 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[sokCriteria](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[cno] [bit] NULL,
	[fnm] [bit] NULL,
	[lnm] [bit] NULL,
	[adress] [bit] NULL,
	[zip] [bit] NULL,
	[city] [bit] NULL,
	[phone] [bit] NULL,
	[mno] [bit] NULL,
	[email] [bit] NULL,
	[dob] [bit] NULL,
	[age] [bit] NULL,
	[gender] [bit] NULL,
	[bonus] [bit] NULL,
	[lastTerminationsDate] [bit] NULL,
	[TerminationCause] [bit] NULL,
	[TerminationCauseNo] [bit] NULL,
	[LastLaidOffProd] [bit] NULL,
	[lastTermiChannel] [bit] NULL,
	[PromoCode] [bit] NULL,
	[Source] [bit] NULL,
	[SourceNo] [bit] NULL,
	[ItemNo] [bit] NULL,
 CONSTRAINT [PK_sokCriteria] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[member]    Script Date: 05/08/2014 17:29:36 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[member](
	[mem_id] [int] NOT NULL,
	[name] [varchar](50) NULL,
	[email] [varchar](50) NULL,
	[devurl] [varchar](50) NULL,
	[liveurl] [varchar](50) NULL,
	[currency] [varchar](50) NULL,
	[template] [int] NULL,
	[contactustemplate] [varchar](1000) NULL,
	[contactussubject] [nvarchar](100) NULL,
	[thankyoumsg] [nvarchar](300) NULL,
	[copyright] [varchar](500) NULL,
	[thankUrefer] [varchar](200) NULL,
	[telefone] [varchar](500) NULL,
	[address] [varchar](500) NULL,
	[gmapcode] [nvarchar](max) NULL,
	[gmapimage] [nvarchar](max) NOT NULL,
	[gmapimgdisplay] [bit] NOT NULL,
	[bottomtext] [nvarchar](max) NULL,
	[sendmailtemplate] [nvarchar](4000) NULL,
	[sitemap] [int] NULL,
	[koss] [nvarchar](max) NULL,
	[showdropdownin] [bit] NULL,
	[columnval] [int] NULL,
	[pAddr] [nvarchar](max) NULL,
	[bosspa] [nvarchar](max) NULL,
	[contactid] [int] NULL,
 CONSTRAINT [PK_member] PRIMARY KEY CLUSTERED 
(
	[mem_id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
/****** Object:  Table [dbo].[Intra_Group]    Script Date: 05/08/2014 17:29:36 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[Intra_Group](
	[Intra_id] [int] IDENTITY(1,1) NOT NULL,
	[Ref_id] [int] NULL,
	[Ref_type] [char](1) NULL,
	[Group_id] [int] NULL,
 CONSTRAINT [PK_Intra_Group] PRIMARY KEY CLUSTERED 
(
	[Intra_id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
/****** Object:  StoredProcedure [dbo].[filesSelectCount]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[filesSelectCount]
(
	@gids varchar(50),
	@a int
)
    AS
       SET NOCOUNT ON
       DECLARE @sqlStatement nvarchar(max)
       if @a=0 
		begin
			SET @sqlStatement ='SELECT COUNT(id) as Count from tmfiles as t inner join Intra_Group as g on t.id=g.ref_id where g.Group_id in(' + @gids + ')'    
		end
	   else
		   if @a=1 
			begin
				SET @sqlStatement ='SELECT COUNT(id) as Count from tmfiles'   
			end;					
       --print @sqlStatement
       exec (@sqlStatement)
GO
/****** Object:  StoredProcedure [dbo].[filesSelectAll]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[filesSelectAll]
    (
       @StartIndex int,
       @PageSize int,
       @gids varchar(50),
       @a int
    )
    AS
       SET NOCOUNT ON
       
       DECLARE @sqlStatement nvarchar(max)
       DECLARE @upperBound int
       
       IF @StartIndex  < 1
           SET @StartIndex = 1
       IF @PageSize < 1
           SET @PageSize = 1
       SET @upperBound = @StartIndex + @PageSize
       
       if @a=0 
		   begin
			SET @sqlStatement =
					'select *  
				   FROM (SELECT ROW_NUMBER() OVER(ORDER BY pdate desc )
					   AS rowNumber, t.* FROM tmfiles as t inner join Intra_Group as g on t.id=g.ref_id where g.Group_id in(' + @gids + ')   
				   ) AS tmfiles WHERE rowNumber >= ' + CONVERT(varchar(9), @StartIndex) + ' AND rowNumber < ' + CONVERT(varchar(9), @upperBound) + ' order by pdate desc'	
		   end
	   else
		   if @a=1 
			   begin
			   SET @sqlStatement =
					'select *  
				   FROM (SELECT ROW_NUMBER() OVER(ORDER BY pdate desc )
					   AS rowNumber, * FROM tmfiles    
				   ) AS tmfiles WHERE rowNumber >= ' + CONVERT(varchar(9), @StartIndex) + ' AND rowNumber < ' + CONVERT(varchar(9), @upperBound) + ' order by pdate desc'	
			   end;
			   
      
										  
		--print @sqlStatement				  
        exec (@sqlStatement)
GO
/****** Object:  Table [dbo].[Dealer]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Dealer](
	[del_id] [int] IDENTITY(1,1) NOT NULL,
	[Navn] [nvarchar](500) NULL,
	[epost] [nvarchar](100) NULL,
	[Brukernavn] [nvarchar](100) NULL,
	[Passord] [nvarchar](100) NULL,
	[AgentID] [nvarchar](500) NULL,
 CONSTRAINT [PK_Dealer] PRIMARY KEY CLUSTERED 
(
	[del_id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Group_mast]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[Group_mast](
	[Group_id] [int] IDENTITY(1,1) NOT NULL,
	[Group_name] [varchar](300) NULL,
	[U_type] [tinyint] NULL,
	[lang_id] [tinyint] NULL,
	[ugimg] [nvarchar](100) NULL,
 CONSTRAINT [PK_Group_mast] PRIMARY KEY CLUSTERED 
(
	[Group_id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
/****** Object:  StoredProcedure [dbo].[getSokFields]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[getSokFields] 
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

    -- Insert statements for procedure here
    select * from sokfields where active=1 order by sort desc


END
GO
/****** Object:  Table [dbo].[User_Group]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[User_Group](
	[user_group_id] [int] IDENTITY(1,1) NOT NULL,
	[del_id] [int] NOT NULL,
	[Group_id] [int] NOT NULL,
 CONSTRAINT [PK_User_Group] PRIMARY KEY CLUSTERED 
(
	[user_group_id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[tmfiles]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[tmfiles](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[fnm] [nvarchar](1000) NULL,
	[endDate] [datetime] NULL,
	[Group_id] [int] NULL,
	[pdate] [datetime] NULL,
	[ptries] [int] NULL,
	[tbcalls] [int] NULL,
	[descr] [nvarchar](max) NULL,
 CONSTRAINT [PK_tmfiles] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  StoredProcedure [dbo].[InsertcTable]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[InsertcTable]
@myTableType TableType readonly
AS
BEGIN

select * from @myTableType 
--set language norwegian
--insert into [dbo].customer(
--[cno]
--      ,[fnm]
--      ,[lnm]
--      ,[adress]
--      ,[zip]
--      ,[city]
--      ,[phone]
--      ,[mno]
--      ,[email]
--      ,[dob]
--      ,[age]
--      ,[gender]
--      ,[lastTerminationsDate]
--      ,[TerminationCauseNo]
--      ,[TerminationCause]
--      ,[LastLaidOffProd]
--      ,[lastTermiChannel]
--      ,[bonus]
--      ,[PromoCode]
--      ,[Source]
--      ,[SourceNo]
--      ,[ItemNo] 
--) select 
--	   [cno]
--      ,[fnm]
--      ,[lnm]
--      ,[adress]
--      ,[zip]
--      ,[city]
--      ,[phone]
--      ,[mno]
--      ,[email]
--      ,[dob]
--      ,[age]
--      ,[gender]
--      ,[lastTerminationsDate]
--      ,[TerminationCauseNo]
--      ,[TerminationCause]
--      ,[LastLaidOffProd]
--      ,[lastTermiChannel]
--      ,[bonus]
--      ,[PromoCode]
--      ,[Source]
--      ,[SourceNo]
--      ,[ItemNo] 
--from @myTableType 

END
GO
/****** Object:  Table [dbo].[customer]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[customer](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[cno] [nvarchar](100) NULL,
	[fnm] [nvarchar](100) NULL,
	[lnm] [nvarchar](100) NULL,
	[adress] [nvarchar](max) NULL,
	[zip] [int] NULL,
	[city] [nvarchar](100) NULL,
	[phone] [nvarchar](50) NULL,
	[mno] [nvarchar](50) NULL,
	[email] [nvarchar](100) NULL,
	[dob] [nvarchar](500) NULL,
	[age] [int] NULL,
	[gender] [nvarchar](500) NULL,
	[bonus] [int] NULL,
	[lastTerminationsDate] [nvarchar](500) NULL,
	[TerminationCause] [nvarchar](max) NULL,
	[TerminationCauseNo] [int] NULL,
	[LastLaidOffProd] [nvarchar](1000) NULL,
	[lastTermiChannel] [nvarchar](1000) NULL,
	[PromoCode] [nvarchar](1000) NULL,
	[Source] [nvarchar](1000) NULL,
	[SourceNo] [int] NULL,
	[ItemNo] [int] NULL,
	[fid] [int] NULL,
 CONSTRAINT [PK_customer] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  StoredProcedure [dbo].[insfdetails]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[insfdetails] 
(
@fnm NVARCHAR(MAX),
@endDate datetime,
@pdate datetime,
@ptries int,
@tbcalls int,
@descr nvarchar(max)
)
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

DECLARE @sql NVARCHAR(MAX)
DECLARE @id INTEGER

insert into tmfiles(fnm,endDate,pdate,ptries,tbcalls,descr) values(@fnm,@endDate,@pdate,@ptries,@tbcalls,@descr);
set @id=SCOPE_IDENTITY();

select @id;

END
GO
/****** Object:  Table [dbo].[customerLog]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[customerLog](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[cid] [int] NULL,
	[reasonForStarting] [nvarchar](max) NULL,
	[expectations] [nvarchar](max) NULL,
	[howLongUsed] [nvarchar](max) NULL,
	[subscription] [bit] NULL,
	[NoSubscripReasons] [nvarchar](max) NULL,
	[EndCall] [bit] NULL,
	[CallLater] [bit] NULL,
	[CallLaterDate] [date] NULL,
	[CallLatertime] [nchar](10) NULL,
	[ByAnyOneMe] [bit] NULL,
	[Unsuccessful] [nchar](10) NULL,
	[UnsuccessfulReCall] [int] NULL,
	[comment] [nvarchar](max) NULL,
	[tmuser] [int] NULL,
	[callattempt] [int] NULL,
	[currentact] [bit] NULL,
	[bid] [nvarchar](1000) NULL,
 CONSTRAINT [PK_CustomerLog] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  StoredProcedure [dbo].[getNxtCust]    Script Date: 05/08/2014 17:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[getNxtCust]
@fid int
AS
BEGIN

	SET NOCOUNT ON;
	
select top 1 * from customer as c left outer join customerlog as l 
on c.id=l.cid 
where c.fid=@fid 
order by c.id asc
	
	
END
GO
/****** Object:  Default [DF_sokFields_active]    Script Date: 05/08/2014 17:29:36 ******/
ALTER TABLE [dbo].[sokFields] ADD  CONSTRAINT [DF_sokFields_active]  DEFAULT ((1)) FOR [active]
GO
/****** Object:  ForeignKey [FK_User_Group_Dealer]    Script Date: 05/08/2014 17:29:39 ******/
ALTER TABLE [dbo].[User_Group]  WITH CHECK ADD  CONSTRAINT [FK_User_Group_Dealer] FOREIGN KEY([del_id])
REFERENCES [dbo].[Dealer] ([del_id])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[User_Group] CHECK CONSTRAINT [FK_User_Group_Dealer]
GO
/****** Object:  ForeignKey [FK_tmfiles_Group_mast]    Script Date: 05/08/2014 17:29:39 ******/
ALTER TABLE [dbo].[tmfiles]  WITH CHECK ADD  CONSTRAINT [FK_tmfiles_Group_mast] FOREIGN KEY([Group_id])
REFERENCES [dbo].[Group_mast] ([Group_id])
GO
ALTER TABLE [dbo].[tmfiles] CHECK CONSTRAINT [FK_tmfiles_Group_mast]
GO
/****** Object:  ForeignKey [FK_customer_tmfiles]    Script Date: 05/08/2014 17:29:39 ******/
ALTER TABLE [dbo].[customer]  WITH NOCHECK ADD  CONSTRAINT [FK_customer_tmfiles] FOREIGN KEY([fid])
REFERENCES [dbo].[tmfiles] ([id])
GO
ALTER TABLE [dbo].[customer] CHECK CONSTRAINT [FK_customer_tmfiles]
GO
/****** Object:  ForeignKey [FK_CustomerLog_customer]    Script Date: 05/08/2014 17:29:39 ******/
ALTER TABLE [dbo].[customerLog]  WITH CHECK ADD  CONSTRAINT [FK_CustomerLog_customer] FOREIGN KEY([cid])
REFERENCES [dbo].[customer] ([id])
GO
ALTER TABLE [dbo].[customerLog] CHECK CONSTRAINT [FK_CustomerLog_customer]
GO
